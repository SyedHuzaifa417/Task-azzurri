import { useRef, useState } from "react";

const VideoComponent = () => {
  const videoRef = useRef<HTMLVideoElement | null>(null);
  const [isButtonClicked, setIsButtonClicked] = useState(false);

  const handleClick = () => {
    if (videoRef.current) {
      videoRef.current.play();
      videoRef.current.loop = true;
      setIsButtonClicked(true);
    }
  };

  return (
    <div className="w-full h-full relative overflow-hidden">
      {" "}
      {/* Added overflow-hidden */}
      {!isButtonClicked && (
        <button
          onClick={handleClick}
          className="absolute inset-0 flex justify-center items-center z-10"
        >
          <svg
            width="141"
            height="141"
            viewBox="0 0 141 141"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="70.5" cy="70.5" r="70.5" fill="#219653" />
            <path
              d="M62.3934 59.6169L64.4075 60.9897L62.3934 59.6169ZM75.6184 61.1572L76.896 59.0814L75.6184 61.1572ZM66.611 57.0212L66.3397 54.5988L66.611 57.0212ZM66.611 82.9788L66.3397 85.4012L66.611 82.9788ZM62.3934 80.3831L60.3792 81.756L62.3934 80.3831ZM83.4824 72.5957L81.2332 71.6562L83.4824 72.5957ZM83.4824 67.4043L81.2332 68.3438L83.4824 67.4043ZM101.062 70C101.062 86.6031 87.6031 100.062 71 100.062V104.938C90.2954 104.938 105.938 89.2954 105.938 70H101.062ZM71 100.062C54.3969 100.062 40.9375 86.6031 40.9375 70H36.0625C36.0625 89.2954 51.7046 104.938 71 104.938V100.062ZM40.9375 70C40.9375 53.3969 54.3969 39.9375 71 39.9375V35.0625C51.7046 35.0625 36.0625 50.7046 36.0625 70H40.9375ZM71 39.9375C87.6031 39.9375 101.062 53.3969 101.062 70H105.938C105.938 50.7046 90.2954 35.0625 71 35.0625V39.9375ZM63.6875 70C63.6875 67.053 63.6897 65.0014 63.8214 63.4701C63.9549 61.9197 64.1993 61.2952 64.4075 60.9897L60.3792 58.244C59.4441 59.616 59.1168 61.2813 58.9644 63.0521C58.8103 64.8421 58.8125 67.1432 58.8125 70H63.6875ZM76.896 59.0814C74.5811 57.6567 72.6967 56.4939 71.1474 55.7323C69.6149 54.9789 68.0191 54.4107 66.3397 54.5988L66.8824 59.4435C67.1375 59.4149 67.6879 59.4638 68.9967 60.1072C70.2885 60.7423 71.9405 61.7559 74.3409 63.2331L76.896 59.0814ZM64.4075 60.9897C65.0243 60.0848 65.935 59.5497 66.8824 59.4435L66.3397 54.5988C63.9122 54.8708 61.7571 56.2225 60.3792 58.244L64.4075 60.9897ZM74.3409 76.7669C71.9405 78.2441 70.2885 79.2577 68.9967 79.8928C67.6879 80.5362 67.1375 80.585 66.8824 80.5565L66.3397 85.4012C68.0191 85.5893 69.6149 85.0211 71.1474 84.2677C72.6967 83.5061 74.5811 82.3433 76.896 80.9186L74.3409 76.7669ZM58.8125 70C58.8125 72.8568 58.8103 75.1579 58.9644 76.9479C59.1168 78.7187 59.4441 80.384 60.3792 81.756L64.4075 79.0103C64.1993 78.7048 63.9549 78.0803 63.8214 76.5299C63.6897 74.9986 63.6875 72.947 63.6875 70H58.8125ZM66.8824 80.5565C65.935 80.4503 65.0243 79.9152 64.4075 79.0103L60.3792 81.756C61.7571 83.7775 63.9122 85.1292 66.3397 85.4012L66.8824 80.5565ZM76.896 80.9186C79.212 79.4933 81.0973 78.336 82.4883 77.2885C83.8789 76.2412 85.0844 75.0846 85.7316 73.5351L81.2332 71.6562C81.0892 72.0011 80.7203 72.517 79.5555 73.3943C78.3911 74.2712 76.7401 75.2903 74.3409 76.7669L76.896 80.9186ZM74.3409 63.2331C76.7401 64.7097 78.3911 65.7288 79.5555 66.6057C80.7204 67.483 81.0892 67.9989 81.2332 68.3438L85.7316 66.4649C85.0844 64.9154 83.8789 63.7588 82.4883 62.7115C81.0973 61.664 79.212 60.5067 76.896 59.0814L74.3409 63.2331ZM85.7316 73.5351C86.6728 71.2817 86.6728 68.7183 85.7316 66.4649L81.2332 68.3438C81.6723 69.3949 81.6723 70.6051 81.2332 71.6562L85.7316 73.5351Z"
              fill="white"
            />
          </svg>
        </button>
      )}
      <video
        ref={videoRef}
        src="/public/heroVid.mp4"
        muted
        className="w-full h-full object-cover"
      />
    </div>
  );
};

export default VideoComponent;
